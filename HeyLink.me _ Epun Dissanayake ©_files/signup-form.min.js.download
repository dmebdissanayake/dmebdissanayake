$(document).ready(function(){const emailValidationError=$('#i18n-validation-email').text();const minLengthValidationError=$('#i18n-validation-minlength').text();const requiredValidationError=$('#i18n-validation-required').text();const passwordValidationError=$('#i18n-validation-password-match').text();const unknownValidationError=$('#i18n-validation-unknown').text();const errorElement=$('.validation-error-signup');let logo=$('.preview-heylinkme-logo__component');let bg=$('.signup-form__component');let form=$('.signup-form-wrapper ');let close=$('.close-icon-wrapper');logo.click(function(){let dataURL=$(this).data('href');if(!dataURL){bg.show(100);form.slideDown(700);}else{window.location.href=dataURL;}});close.click(function(){form.slideUp(800);function closebg(params){bg.hide(10);}
setTimeout(closebg,700);});$(document).mouseup(function(e){if(bg.is(e.target)&&form.has(e.target).length===0){form.slideUp(800);function closebg(params){bg.hide(10);}
setTimeout(closebg,700);}});$('form#signupForm').validate({errorElement:'div',errorClass:'validation-error',rules:{email:{required:true,email:true,},username:{required:true,minlength:3},password:"required",},messages:{email:{email:emailValidationError,required:requiredValidationError,},username:{minlength:minLengthValidationError,required:requiredValidationError,},password:{required:requiredValidationError,},},submitHandler:function(form,params){errorElement.fadeOut();const signupForm=$('form#signupForm');const email=signupForm.find('input[name="email"]').val();const username=signupForm.find('input[name="username"]').val();const password=signupForm.find('input[name="password"]').val();const referrer=signupForm.find('input[name="referrer"]').val();const data=JSON.stringify({"email":email,"username":username,"password":password,"referrer":referrer,});$.ajax({type:form.method,dataType:'json',contentType:'application/json',url:form.action,data:data,success:function(data){$('.hide-on-success').hide();$('.user-email').text(email);$('.show-on-success').removeClass('hidden');$('.show-on-success').show();},error:function(data){if(data.responseJSON){var key=Object.keys(data.responseJSON)[0];errorElement.text(data.responseJSON[key]);}else{errorElement.text(unknownValidationError);}
errorElement.fadeIn();}});}});});